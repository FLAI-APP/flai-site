<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FLAI — AI per la tua azienda</title>
  <meta name="description" content="Assistente AI su WhatsApp/voce, contabilità smart, analytics e automazioni per PMI." />
  <meta property="og:title" content="FLAI — AI per la tua azienda" />
  <meta property="og:description" content="Assistente AI su WhatsApp/voce, contabilità smart, analytics e automazioni per PMI." />
  <meta property="og:type" content="website" />
  <style>
    :root{--bg:#0b0b0c;--surface:#121214;--muted:#a1a1aa;--fg:#f3f3f3;--accent:#8affc1;--line:#222226}
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:inherit;text-decoration:none}
    .container{max-width:1080px;margin:0 auto;padding:0 20px}
    .nav{position:sticky;top:0;background:rgba(11,11,12,.7);backdrop-filter:blur(10px);border-bottom:1px solid var(--line);z-index:10}
    .nav-wrap{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{font-weight:700;letter-spacing:.5px}
    .nav-links{display:flex;gap:18px;color:var(--muted);font-size:14px}
    .btn{background:#fff;color:#000;border:none;border-radius:10px;padding:10px 16px;font-weight:600;cursor:pointer}
    .btn.outline{background:transparent;color:var(--fg);border:1px solid var(--line)}
    .hero{padding:88px 0}
    h1{font-size:42px;line-height:1.1;margin:0 0 12px}
    .lead{color:var(--muted);max-width:720px}
    .grid{display:grid;gap:16px}
    .cards{grid-template-columns:repeat(1,minmax(0,1fr))}
    @media(min-width:820px){.cards{grid-template-columns:repeat(3,minmax(0,1fr))}}
    .card{background:var(--surface);border:1px solid var(--line);border-radius:16px;padding:20px}
    .card h3{margin:0 0 6px}
    .muted{color:var(--muted)}
    .section{padding:36px 0}
    .pricing .price{font-size:32px;font-weight:800;margin:10px 0}
    .footer{border-top:1px solid var(--line);padding:28px 0;color:var(--muted);font-size:14px;margin-top:40px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    input,textarea{width:100%;background:#0f0f11;border:1px solid var(--line);color:var(--fg);border-radius:10px;padding:10px}
    label{font-size:14px;color:var(--muted)}
    .ok{color:var(--accent)} .err{color:#ff8a8a}
    pre{white-space:pre-wrap;background:#0f0f11;border:1px solid var(--line);border-radius:10px;padding:12px}
    .pill{display:inline-block;padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="nav">
    <div class="container nav-wrap">
      <div class="brand">FLAI</div>
      <div class="nav-links">
        <a href="#features">Funzioni</a>
        <a href="#pricing">Prezzi</a>
        <a href="https://flai-app.onrender.com/messages" target="_blank" rel="noreferrer">Log</a>
      </div>
      <a class="btn" href="#demo">Prova demo</a>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <span class="pill">Assistente aziendale AI</span>
      <h1>Automatizza la tua azienda con l’AI</h1>
      <p class="lead">WhatsApp/voce per clienti, contabilità smart, report e analytics. Integrazione in giorni, non mesi.</p>
      <div class="row" style="margin-top:16px">
        <a class="btn" href="#pricing">Vedi prezzi</a>
        <a class="btn outline" href="#demo">Guarda la demo</a>
      </div>
    </div>
  </header>

  <!-- FEATURES -->
  <section id="features" class="section">
    <div class="container">
      <div class="grid cards">
        <div class="card">
          <h3>WhatsApp & Voce</h3>
          <p class="muted">Risponde ai clienti, prende appuntamenti, gestisce agenda e note. Multi-lingua.</p>
        </div>
        <div class="card">
          <h3>Contabilità smart</h3>
          <p class="muted">Da testo/vocali/foto estrae movimenti e aggiorna i bilanci. Report giornalieri e avvisi.</p>
        </div>
        <div class="card">
          <h3>Analytics & CRM</h3>
          <p class="muted">Dashboard vendite, clienti, performance. Integrazioni Google Sheets e database.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- DEMO -->
  <section id="demo" class="section">
    <div class="container grid" style="grid-template-columns:1fr;gap:20px">
      <div class="card">
        <h3>1) Ping backend</h3>
        <div class="row">
          <button class="btn" onclick="ping()">Test /healthz</button>
          <span id="ping-out" class="ok"></span>
        </div>
      </div>
      <div class="card">
        <h3>2) Invia un messaggio (finisce anche nel DB)</h3>
        <label for="msg">Messaggio</label>
        <textarea id="msg" rows="3" placeholder="Es: Oggi ho venduto 15 panini e incassato 120 CHF."></textarea>
        <div class="row" style="margin-top:12px">
          <button class="btn" onclick="send()">Invia</button>
          <span id="send-out" class="ok"></span>
        </div>
        <div style="margin-top:12px">
          <label>Risposta</label>
          <pre id="reply"></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing" class="section pricing">
    <div class="container">
      <div class="grid cards">
        <div class="card">
          <h3>Starter</h3>
          <p class="muted">Per iniziare e testare l’AI in azienda.</p>
          <div class="price">CHF 199/mese</div>
          <ul class="muted">
            <li>Chat WhatsApp</li>
            <li>1 integrazione</li>
            <li>Report settimanale</li>
          </ul>
          <div class="row" style="margin-top:12px">
            <button class="btn" onclick="lead('Starter')">Richiedi</button>
          </div>
        </div>
        <div class="card">
          <h3>Business</h3>
          <p class="muted">Per PMI con automazioni quotidiane.</p>
          <div class="price">CHF 499/mese</div>
          <ul class="muted">
            <li>WhatsApp + Voce</li>
            <li>3 integrazioni</li>
            <li>Report giornaliero</li>
            <li>SLA 24h</li>
          </ul>
          <div class="row" style="margin-top:12px">
            <button class="btn" onclick="lead('Business')">Richiedi</button>
          </div>
        </div>
        <div class="card">
          <h3>Enterprise</h3>
          <p class="muted">Su misura per grandi volumi.</p>
          <div class="price">Custom</div>
          <ul class="muted">
            <li>Tutto illimitato</li>
            <li>Onboarding dedicato</li>
            <li>SLA 4h</li>
            <li>Revisione processi</li>
          </ul>
          <div class="row" style="margin-top:12px">
            <button class="btn" onclick="lead('Enterprise')">Richiedi</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">© <span id="year"></span> FLAI — Tutti i diritti riservati.</div>
  </footer>

  <script>
    const BASE = "https://flai-app.onrender.com"; // <-- se serve, cambia col tuo backend
    document.getElementById("year").textContent = new Date().getFullYear();

    async function ping(){
      const out = document.getElementById('ping-out');
      out.textContent = "...";
      try{
        const t = await fetch(`${BASE}/healthz`, {mode:"cors"}).then(r=>r.text());
        out.textContent = "Backend: " + t;
      }catch(e){ out.textContent = "Errore: " + e; out.className="err"; }
    }

    async function send(){
      const out = document.getElementById('send-out');
      const pre = document.getElementById('reply');
      const msg = document.getElementById('msg').value.trim();
      out.textContent = "Invio...";
      pre.textContent = "";
      try{
        const res = await fetch(`${BASE}/webhook`, {
          method:"POST",
          headers:{ "Content-Type":"application/json" },
          body: JSON.stringify({ message: msg || "Messaggio di test dal sito" })
        });
        const data = await res.json();
        pre.textContent = JSON.stringify(data,null,2);
        out.textContent = "Fatto ✔";
      }catch(e){
        out.textContent = "Errore: " + e;
        out.className = "err";
      }
    }

    // mini lead (per ora apre email; se vuoi salvo sul backend aggiungiamo /lead)
    function lead(plan){
      const s = encodeURIComponent(`Richiesta piano: ${plan}`);
      window.location.href = `mailto:info@flai.info?subject=${s}`;
    }
  </script>
</body>
</html>
